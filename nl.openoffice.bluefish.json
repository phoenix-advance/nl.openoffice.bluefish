{
	"app-id": "nl.openoffice.bluefish",
	"runtime": "org.gnome.Platform",
	"runtime-version": "48",
	"sdk": "org.gnome.Sdk",
	"command": "bluefish",
	"rename-icon": "bluefish",
	"rename-appdata-file": "bluefish.appdata.xml",
	"rename-desktop-file": "bluefish.desktop",
	"finish-args": [
		"--share=ipc",
		"--socket=x11",
		"--socket=wayland",
		"--share=network",
		"--filesystem=host"
	],
	"cleanup": [
		"/include",
		"/lib/pkgconfig",
		"/share/pkgconfig",
		"/share/aclocal",
		"/man",
		"/share/man",
		"*.la",
		"*.a",
		"/share/info",
		"/share/doc"
	],
	"modules": [
		{
				"name": "bluefish",
				"buildsystem": "autotools",
				"post-install": [
					"mv ${FLATPAK_DEST}/share/mime/packages/bluefish.xml ${FLATPAK_DEST}/share/mime/packages/${FLATPAK_ID}.xml",
					"cd ${FLATPAK_DEST}/share/icons/hicolor; for d in */mimetypes/; do for f in ${d}*; do mv \"$f\" \"${d}${FLATPAK_ID}.$(basename $f)\"; done; done"
				],
				"sources": [
						{
							"type": "archive",
							"url": "https://www.bennewitz.com/bluefish/stable/source/bluefish-2.2.17.tar.bz2",
							"sha256": "3a79f6425e14939ea134f96c1424e3aac05bee95904be434581883078a7b7253"
						}
				],
				"modules": [
					{
						"name": "gucharmap",
						"buildsystem": "meson",
						"config-opts": [
							"-Ducd_path=/app/share/unicode"
						],
						"sources": [
								{
									"type": "archive",
									"url": "https://gitlab.gnome.org/GNOME/gucharmap/-/archive/16.0.2/gucharmap-16.0.2.tar.gz",
									"sha256": "200b0dd3276290e2d442f7ce71b9ca5dd79a0b07099f3e6b02d9b493e08ba303"
								}
						],
						"modules": [
							{
								"name": "unicode-character-database",
								"buildsystem": "simple",
								"build-commands": [
									"install -Dm644 {UCD,Unihan}.zip -t /app/share/unicode/",
									"unzip -d /app/share/unicode Unihan.zip",
									"unzip -d /app/share/unicode UCD.zip"
								],
								"sources": [{
									"type": "file",
									"url": "https://www.unicode.org/Public/zipped/16.0.0/UCD.zip",
									"sha256": "c86dd81f2b14a43b0cc064aa5f89aa7241386801e35c59c7984e579832634eb2"
								}, {
									"type": "file",
									"url": "https://www.unicode.org/Public/zipped/16.0.0/Unihan.zip",
									"sha256": "b8f000df69de7828d21326a2ffea462b04bc7560022989f7cc704f10521ef3e0"
								}
								],
								"cleanup": ["*"]
							}
						]
					}
				]
		}
	]
}
